:- include(timestep_utilities).
:- include(regression).

:- import append/3 from basics.

disappeared_models(SiteYears,SortedResults) :-
    findall(Site-Year,
            (useful_site(Site), entry(Site,2009,wid,Chan), integer(Chan), useful_year(Year), useful_disappeared(Site,Year)),
            SiteYears
           ),
    Feats = [altitude,channel_width,protected,crb,check_dam,flood_levees],
    all_log_models(10,SiteYears,Feats,young_disappeared,SortedResults).

channel_models(Sites,SortedResults) :-
    findall(Site,
            (useful_site(Site), entry(Site,2009,wid,Chan), number(Chan)),
            Sites),
    Feats = [altitude,protected,crb,check_dam,flood_levees],
    with(altitude,Feats,AltFeats),
    append(Feats,AltFeats,FeatureList),
    all_lin_models(Sites,FeatureList,log_channel_width,SortedResults).









